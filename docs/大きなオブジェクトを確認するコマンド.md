# 大きな Git オブジェクトを確認するコマンド

リポジトリ内でサイズの大きい blob（ファイル）を確認するときに使うコマンドです。  
プッシュが 2 GiB 制限で失敗する場合などに、原因となる大きなファイルを特定するために利用できます。

## 正しいコマンド

**先頭は `git` です。`~git` と入力すると「Command '~git' not found」になります。**

```bash
git rev-list --objects --all \
  | awk '{print $1}' \
  | git cat-file --batch-check='%(objecttype) %(objectname) %(objectsize)' \
  | awk '$1=="blob"{print $3" "$2}' \
  | sort -nr | head -30
```

- 1 行目: `git` の前に **チルダ `~` を付けない**
- コピーするときは行末の `\` で改行が続くので、**5 行まとめて**コピーして実行するか、1 行にまとめて実行してください

## 1 行で実行する場合

```bash
git rev-list --objects --all | awk '{print $1}' | git cat-file --batch-check='%(objecttype) %(objectname) %(objectsize)' | awk '$1=="blob"{print $3" "$2}' | sort -nr | head -30
```

## 出力の見方

- 左の数字が **バイト単位のサイズ**、右が **オブジェクト ID**
- サイズの大きいものから上に 30 件表示されます
- 大きなファイルのオブジェクト ID が分かったら、`git rev-list --objects --all | grep <オブジェクトID>` などでどのファイルか特定できます
